<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta name="description"
            content="PrintHub is a simple library to print receipt with Bluetooth and USB printer.">
        <meta name="keywords"
            content="PrintHub, Bluetooth Printer, USB Printer, Receipt Printer">
        <meta name="author" content="Dede Fuji Abdul">
        <meta name="robots" content="index, follow">
        <meta name="revisit-after" content="7 days">
        <meta name="googlebot"
            content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
        <meta name="bingbot"
            content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
        <meta property="og:title" content="PrintHub">
        <meta property="og:description"
            content="PrintHub is a simple library to print receipt with Bluetooth and USB printer.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://defuj.github.io/printhub">
        <meta property="og:image"
            content="https://defuj.github.io/printhub/assets/images/printhub.webp">
        <meta property="og:site_name" content="PrintHub">
        <meta property="og:locale" content="en_US">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="PrintHub">
        <meta name="twitter:description"
            content="PrintHub is a simple library to print receipt with Bluetooth and USB printer.">
        <meta name="twitter:image"
            content="https://defuj.github.io/printhub/assets/images/printhub.webp">
        <meta name="twitter:image:alt" content="PrintHub">
        <meta name="twitter:site" content="@defuj17">
        <link rel="icon"
            href="https://defuj.github.io/printhub/assets/favicon.ico"
            type="image/x-icon">
        <link rel="canonical" href="https://defuj.github.io/printhub">

        <title>PrintHub</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
            theme: {
                extend: {
                    colors: {
                            clifford: '#da373d',
                        }
                    },
                    fontFamily: {
                        sans: ['MerchantCopy', 'sans-serif'],
                    },
                }
            }
        </script>
        <style type="text/tailwindcss">
            @layer base {
                @font-face {
                    font-family: 'MerchantCopy';
                    font-style: normal;
                    font-weight: 400;
                    font-display: swap;
                    src: url('https://defuj.github.io/assets/fonts/MerchantCopy.ttf') format('truetype');
                }

                @font-face {
                    font-family: 'MerchantCopy';
                    font-style: normal;
                    font-weight: 700;
                    font-display: swap;
                    src: url('https://defuj.github.io/assets/fonts/MerchantCopyDoublesize.ttf') format('truetype');
                }

                @font-face {
                    font-family: 'MerchantCopy';
                    font-style: normal;
                    font-weight: 800;
                    font-display: swap;
                    src: url('https://defuj.github.io/assets/fonts/MerchantCopyWide.ttf') format('truetype');
                }
            }
        </style>
    </head>
    <body
        class="flex flex-col items-center justify-center w-full p-4 bg-gray-100">
        <div class="bg-white p-4 rounded shadow-md w-[80mm]">
            <!-- Print Header -->
            <div class="text-center">
                <img class="mx-auto h-16"
                    src="https://www.sadigit.co.id/wp-content/uploads/2021/10/cropped-sadigit-logo.png"
                    alt="Logo">
                <h1 class="text-xl font-bold">SADIGIT</h1>
                <p>Jl. Kutamaya No.Ruko A, Kotakulon, Kec. Sumedang Sel.,
                    Kabupaten Sumedang, Jawa Barat 45311</p>
                <p>0852-2299-9699</p>
            </div>
            <div class="mt-2 text-center">
                <p>No.Transaksi: SDGT-ONL-0001</p>
                <p>Kasir: Otongsuke</p>
                <p>2024-10-23 10:20:18</p>
            </div>
            <hr class="my-2 border-t-2 border-dashed">
            <!-- Print Items -->
            <div>
                <div class="flex justify-between">
                    <span>Item Sample-0</span>
                    <span>1 pcs x 10.000</span>
                </div>
                <div class="flex justify-between">
                    <span>Item Sample-1</span>
                    <span>1 pcs x 10.000</span>
                </div>
                <div class="flex justify-between">
                    <span>Item Sample-2</span>
                    <span>1 pcs x 10.000</span>
                </div>
                <div class="flex justify-between">
                    <span>Item Sample-3</span>
                    <span>1 pcs x 10.000</span>
                </div>
                <div class="flex justify-between">
                    <span>Item Sample-4</span>
                    <span>1 pcs x 10.000</span>
                </div>
            </div>
            <hr class="my-2 border-t-2 border-dashed">
            <!-- Print Total -->
            <div class="flex justify-between">
                <span>Total :</span>
                <span>50.000</span>
            </div>
            <div class="flex justify-between">
                <span>Bayar :</span>
                <span>100.000</span>
            </div>
            <div class="flex justify-between">
                <span>Kembali :</span>
                <span>50.000</span>
            </div>
            <div class="flex justify-between">
                <span>Metode :</span>
                <span>Tunai</span>
            </div>
            <!-- Print Footer -->
            <div class="my-2 text-center">
                <p>Terimakasih sudah mencoba Follow IG @sadigit.id</p>
            </div>
        </div>

        <div class="flex flex-col space-y-2 mt-4 w-[80mm]">
            <!-- select printer type -->
            <div class="flex flex-col">
                <label for="printerType">Select Printer Type:</label>
                <select id="printerType"
                    class="px-4 py-3 bg-gray-200 rounded-lg text-gray-600">
                    <option value="bluetooth" selected>Bluetooth
                        Printer</option>
                    <option value="usb">USB Printer</option>
                </select>
            </div>
            <!-- select paper size -->
            <div class="flex flex-col">
                <label for="paperSize">
                    Select Paper Size:
                </label>
                <select id="paperSize"
                    class="px-4 py-3 bg-gray-200 rounded-lg text-gray-600">
                    <option value="58" selected>58mm</option>
                    <option value="80">80mm</option>
                </select>
            </div>

            <button id="connectToPrinter"
                class="px-4 py-2 text-white bg-gray-600 rounded-lg">Print with
                Bluetooth Printer</button>
        </div>

        <p id="status"></p>
        <p id="battery"></p>
        <script
            src="/dist/index.global.js" defer></script>

        <script defer>
            let printerType = 'bluetooth';
            let paperSize = '58';

            document.getElementById('printerType').addEventListener('change', (e) => {
                printerType = e.target.value;

                document.getElementById('connectToPrinter').textContent = `Print with ${printerType === 'bluetooth' ? 'Bluetooth' : 'USB'} Printer`;
            });

            document.getElementById('paperSize').addEventListener('change', (e) => {
                paperSize = e.target.value;
            });

            async function startPrint(print) {
                // Print Header
                await print.putImageWithUrl(
                    "https://www.sadigit.co.id/wp-content/uploads/2021/10/cropped-sadigit-logo.png",
                    { align: "center" }
                );
                await print.writeText("SADIGIT", {
                    align: "center",
                    bold: true,
                    size: "double",
                });
                await print.writeText(
                    "Jl. Kutamaya No.Ruko A, Kotakulon, Kec. Sumedang Sel., Kabupaten Sumedang, Jawa Barat 45311",
                    { align: "center" }
                );
                await print.writeText("0852-2299-9699", { align: "center" });
                await print.writeLineBreak();
                await print.writeText("No.Transaksi: SDGT-ONL-0001", {
                    align: "center",
                });
                await print.writeText("Kasir: Otongsuke", { align: "center" });
                await print.writeText("2024-10-23 10:20:18", { align: "center" });

                // Print Items
                await print.writeDashLine();
                for (let i = 0; i < 5; i++) {
                    await print.writeText("Item Sample-" + i, { align: "left" });
                    await print.writeTextWith2Column("1 pcs x 10.000", "10.000");
                }
                await print.writeDashLine();

                // Print Total
                await print.writeTextWith2Column("Total :", "50.000");
                await print.writeTextWith2Column("Bayar :", "100.000");
                await print.writeTextWith2Column("Kembali :", "50.000");
                await print.writeTextWith2Column("Metode :", "Tunai");

                // Print Footer
                await print.writeLineBreak();
                await print.writeText(
                    "Terimakasih sudah mencoba Follow IG @sadigit.id",
                    { align: "center" }
                );
                await print.writeLineBreak(3);
            }

            async function printImage(print) {
                await print.putImageWithUrl(
                    "https://cdn-icons-png.flaticon.com/256/2504/2504739.png",
                {
                    align: "center",
                });
            }

            async function printQRCodeTest(print) {
                // Print Header
                await print.writeText("TOKO SAYA", { 
                    align: "center", 
                    bold: true, 
                    size: "double" 
                });
                await print.writeText("Jl. Contoh No. 123", { align: "center" });
                await print.writeDashLine();
                
                // Print Items
                await print.writeTextWith2Column("Nasi Goreng", "Rp 25.000");
                await print.writeTextWith2Column("Es Teh", "Rp 5.000");
                await print.writeDashLine();
                
                // Print Total
                await print.writeTextWith2Column("TOTAL", "Rp 30.000", { bold: true });
                await print.writeDashLine();
                
                // Print QR Code untuk payment
                await print.writeText("SCAN UNTUK BAYAR", { 
                    align: "center", 
                    bold: true 
                });
                await print.writeLineBreak();
                
                await print.printQRCode("https://example.com/payment/12345", {
                    size: "medium",
                    align: "center",
                    errorCorrection: "M",
                    onFailed: (message) => {
                        console.error("QR Code error:", message);
                        alert("Gagal cetak QR: " + message);
                    }
                });
                
                await print.writeLineBreak();
                await print.writeText("atau bayar tunai", { align: "center" });
                await print.writeLineBreak(3);
            }

            document.getElementById('connectToPrinter').addEventListener('click', () => {
                let printer = new PrintHub.init({
                    paperSize: paperSize,
                    printerType: printerType,
                });
                printer.connectToPrint({
                    onReady: (print) => printQRCodeTest(print),
                    onFailed: (message) => {
                        console.log(message);
                        window.alert(message);
                    }
                });
            });
    </script>
    </body>
</html>